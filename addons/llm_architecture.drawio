<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="LLM Architecture Overview" id="overview">
    <mxGraphModel dx="3148" dy="4098" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="2200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#1a1a2e;" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;ODOO LLM ARCHITECTURE&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="700" x="700" y="-10" as="geometry" />
        </mxCell>
        <mxCell id="core_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="280" width="1000" x="40" y="140" as="geometry" />
        </mxCell>
        <mxCell id="core_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#2e7d32;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="CORE LAYER - Nền tảng cốt lõi" vertex="1">
          <mxGeometry height="35" width="280" x="390" y="155" as="geometry" />
        </mxCell>
        <mxCell id="llm_core" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=2;fontSize=14;" value="llm" vertex="1">
          <mxGeometry height="190" width="280" x="60" y="210" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_desc" parent="llm_core" style="text;strokeColor=none;fillColor=#a5d6a7;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Core Module - Nền tảng LLM" vertex="1">
          <mxGeometry height="22" width="280" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_1" parent="llm_core" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Quản lý providers (OpenAI, Ollama...)" vertex="1">
          <mxGeometry height="22" width="280" y="52" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_2" parent="llm_core" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Chat completion API" vertex="1">
          <mxGeometry height="22" width="280" y="74" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_3" parent="llm_core" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Vector embeddings generation" vertex="1">
          <mxGeometry height="22" width="280" y="96" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_4" parent="llm_core" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Dispatch pattern routing" vertex="1">
          <mxGeometry height="22" width="280" y="118" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_5" parent="llm_core" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Tool formatting per provider" vertex="1">
          <mxGeometry height="22" width="280" y="140" as="geometry" />
        </mxCell>
        <mxCell id="llm_core_req" parent="llm_core" style="text;strokeColor=none;fillColor=#e8f5e9;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#388e3c;" value="Requires: Base Odoo" vertex="1">
          <mxGeometry height="28" width="280" y="162" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=2;fontSize=14;" value="llm_thread" vertex="1">
          <mxGeometry height="190" width="280" x="390" y="210" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_desc" parent="llm_thread" style="text;strokeColor=none;fillColor=#a5d6a7;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Chat Interface - Giao diện hội thoại" vertex="1">
          <mxGeometry height="22" width="280" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_1" parent="llm_thread" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Quản lý conversations" vertex="1">
          <mxGeometry height="22" width="280" y="52" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_2" parent="llm_thread" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Real-time streaming (SSE)" vertex="1">
          <mxGeometry height="22" width="280" y="74" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_3" parent="llm_thread" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Multimodal (text + files)" vertex="1">
          <mxGeometry height="22" width="280" y="96" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_4" parent="llm_thread" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Odoo record context linking" vertex="1">
          <mxGeometry height="22" width="280" y="118" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_5" parent="llm_thread" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• OWL Chat UI components" vertex="1">
          <mxGeometry height="22" width="280" y="140" as="geometry" />
        </mxCell>
        <mxCell id="llm_thread_req" parent="llm_thread" style="text;strokeColor=none;fillColor=#e8f5e9;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#388e3c;" value="Requires: llm" vertex="1">
          <mxGeometry height="28" width="280" y="162" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=2;fontSize=14;" value="llm_tool" vertex="1">
          <mxGeometry height="190" width="300" x="720" y="210" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_desc" parent="llm_tool" style="text;strokeColor=none;fillColor=#a5d6a7;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Function Calling - AI Tools" vertex="1">
          <mxGeometry height="22" width="300" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_1" parent="llm_tool" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Định nghĩa tools cho AI" vertex="1">
          <mxGeometry height="22" width="300" y="52" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_2" parent="llm_tool" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• @tool_def decorator" vertex="1">
          <mxGeometry height="22" width="300" y="74" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_3" parent="llm_tool" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Pydantic JSON schema auto-gen" vertex="1">
          <mxGeometry height="22" width="300" y="96" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_4" parent="llm_tool" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Tool execution + Odoo context" vertex="1">
          <mxGeometry height="22" width="300" y="118" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_5" parent="llm_tool" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• User consent + Tool loop" vertex="1">
          <mxGeometry height="22" width="300" y="140" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_req" parent="llm_tool" style="text;strokeColor=none;fillColor=#e8f5e9;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#388e3c;" value="Requires: llm, llm_thread" vertex="1">
          <mxGeometry height="28" width="300" y="162" as="geometry" />
        </mxCell>
        <mxCell id="conn_core_thread" edge="1" parent="1" source="llm_core" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2e7d32;strokeWidth=4;endArrow=blockThin;endFill=1;fontSize=14;" target="llm_thread">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn_thread_tool" edge="1" parent="1" source="llm_thread" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2e7d32;strokeWidth=4;endArrow=blockThin;endFill=1;fontSize=14;" target="llm_tool">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_core_rag" edge="1" parent="1" source="core_group" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1565c0;strokeWidth=5;endArrow=blockThin;endFill=1;fontSize=14;" target="rag_group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_label_core_rag" parent="1" style="text;html=1;strokeColor=none;fillColor=#e3f2fd;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=2;fontColor=#1565c0;" value="embeddings &amp;amp; chat" vertex="1">
          <mxGeometry height="28" width="140" x="480" y="450" as="geometry" />
        </mxCell>
        <mxCell id="rag_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="300" width="1000" x="40" y="575" as="geometry" />
        </mxCell>
        <mxCell id="rag_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#1565c0;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="KNOWLEDGE LAYER - RAG &amp;amp; Vector Search" vertex="1">
          <mxGeometry height="35" width="360" x="380" y="595" as="geometry" />
        </mxCell>
        <mxCell id="llm_store" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#90caf9;strokeColor=#1565c0;strokeWidth=2;fontSize=14;" value="llm_store" vertex="1">
          <mxGeometry height="170" width="260" x="60" y="645" as="geometry" />
        </mxCell>
        <mxCell id="llm_store_desc" parent="llm_store" style="text;strokeColor=none;fillColor=#64b5f6;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Vector Store Interface" vertex="1">
          <mxGeometry height="22" width="260" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_store_1" parent="llm_store" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Abstract vector DB interface" vertex="1">
          <mxGeometry height="22" width="260" y="52" as="geometry" />
        </mxCell>
        <mxCell id="llm_store_2" parent="llm_store" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Collection management" vertex="1">
          <mxGeometry height="22" width="260" y="74" as="geometry" />
        </mxCell>
        <mxCell id="llm_store_3" parent="llm_store" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Vector upsert operations" vertex="1">
          <mxGeometry height="22" width="260" y="96" as="geometry" />
        </mxCell>
        <mxCell id="llm_store_4" parent="llm_store" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Similarity search" vertex="1">
          <mxGeometry height="22" width="260" y="118" as="geometry" />
        </mxCell>
        <mxCell id="llm_store_req" parent="llm_store" style="text;strokeColor=none;fillColor=#e3f2fd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#1565c0;" value="Requires: llm" vertex="1">
          <mxGeometry height="30" width="260" y="140" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#90caf9;strokeColor=#1565c0;strokeWidth=2;fontSize=14;" value="llm_knowledge" vertex="1">
          <mxGeometry height="210" width="300" x="370" y="645" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_desc" parent="llm_knowledge" style="text;strokeColor=none;fillColor=#64b5f6;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="RAG System - Knowledge Base" vertex="1">
          <mxGeometry height="22" width="300" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_1" parent="llm_knowledge" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Document upload (PDF, web, text)" vertex="1">
          <mxGeometry height="22" width="300" y="52" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_2" parent="llm_knowledge" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Content retrieval &amp; parsing" vertex="1">
          <mxGeometry height="22" width="300" y="74" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_3" parent="llm_knowledge" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Text chunking with overlap" vertex="1">
          <mxGeometry height="22" width="300" y="96" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_4" parent="llm_knowledge" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Chunk embeddings" vertex="1">
          <mxGeometry height="22" width="300" y="118" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_5" parent="llm_knowledge" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Semantic search + scoring" vertex="1">
          <mxGeometry height="22" width="300" y="140" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_6" parent="llm_knowledge" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Domain glossary" vertex="1">
          <mxGeometry height="22" width="300" y="162" as="geometry" />
        </mxCell>
        <mxCell id="llm_knowledge_req" parent="llm_knowledge" style="text;strokeColor=none;fillColor=#e3f2fd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#1565c0;" value="Requires: llm_store" vertex="1">
          <mxGeometry height="26" width="300" y="184" as="geometry" />
        </mxCell>
        <mxCell id="llm_pgvector" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#bbdefb;strokeColor=#1565c0;strokeWidth=1;fontSize=14;" value="llm_pgvector" vertex="1">
          <mxGeometry height="100" width="150" x="720" y="645" as="geometry" />
        </mxCell>
        <mxCell id="llm_pgvector_1" parent="llm_pgvector" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="PostgreSQL pgvector" vertex="1">
          <mxGeometry height="22" width="150" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_pgvector_2" parent="llm_pgvector" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Native SQL search" vertex="1">
          <mxGeometry height="22" width="150" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_pgvector_req" parent="llm_pgvector" style="text;strokeColor=none;fillColor=#e3f2fd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#1565c0;" value="→ llm_store" vertex="1">
          <mxGeometry height="28" width="150" y="72" as="geometry" />
        </mxCell>
        <mxCell id="llm_qdrant" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#bbdefb;strokeColor=#1565c0;strokeWidth=1;fontSize=14;" value="llm_qdrant" vertex="1">
          <mxGeometry height="100" width="150" x="880" y="645" as="geometry" />
        </mxCell>
        <mxCell id="llm_qdrant_1" parent="llm_qdrant" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Qdrant Cloud" vertex="1">
          <mxGeometry height="22" width="150" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_qdrant_2" parent="llm_qdrant" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Vector DB service" vertex="1">
          <mxGeometry height="22" width="150" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_qdrant_req" parent="llm_qdrant" style="text;strokeColor=none;fillColor=#e3f2fd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#1565c0;" value="→ llm_store" vertex="1">
          <mxGeometry height="28" width="150" y="72" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_knowledge" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#bbdefb;strokeColor=#1565c0;strokeWidth=1;fontSize=14;" value="llm_tool_knowledge" vertex="1">
          <mxGeometry height="95" width="310" x="720" y="765" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_knowledge_1" parent="llm_tool_knowledge" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="AI tool cho knowledge search" vertex="1">
          <mxGeometry height="22" width="310" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_knowledge_2" parent="llm_tool_knowledge" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Trích dẫn nguồn documents" vertex="1">
          <mxGeometry height="22" width="310" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_tool_knowledge_req" parent="llm_tool_knowledge" style="text;strokeColor=none;fillColor=#e3f2fd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#1565c0;" value="Requires: llm_tool, llm_knowledge" vertex="1">
          <mxGeometry height="23" width="310" y="72" as="geometry" />
        </mxCell>
        <mxCell id="conn_store_knowledge" edge="1" parent="1" source="llm_store" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1565c0;strokeWidth=3;endArrow=blockThin;endFill=1;fontSize=14;" target="llm_knowledge">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_core_assistant" edge="1" parent="1" source="core_group" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#e65100;strokeWidth=5;endArrow=blockThin;endFill=1;fontSize=14;" target="assistant_group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_label_core_assistant" parent="1" style="text;html=1;strokeColor=none;fillColor=#fff3e0;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=2;fontColor=#e65100;" value="tools &amp;amp; prompts" vertex="1">
          <mxGeometry height="28" width="120" x="1080" y="265" as="geometry" />
        </mxCell>
        <mxCell id="assistant_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="420" width="690" x="1270" y="75" as="geometry" />
        </mxCell>
        <mxCell id="assistant_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#e65100;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="ASSISTANT LAYER - AI Assistants" vertex="1">
          <mxGeometry height="35" width="300" x="1465" y="90" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffcc80;strokeColor=#e65100;strokeWidth=2;fontSize=14;" value="llm_assistant" vertex="1">
          <mxGeometry height="190" width="300" x="1295" y="145" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_desc" parent="llm_assistant" style="text;strokeColor=none;fillColor=#ffb74d;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="AI Assistant Framework" vertex="1">
          <mxGeometry height="22" width="300" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_1" parent="llm_assistant" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Tạo assistants với roles/goals" vertex="1">
          <mxGeometry height="22" width="300" y="52" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_2" parent="llm_assistant" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Jinja2 system prompts" vertex="1">
          <mxGeometry height="22" width="300" y="74" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_3" parent="llm_assistant" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Multi-format: text/yaml/json" vertex="1">
          <mxGeometry height="22" width="300" y="96" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_4" parent="llm_assistant" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Dynamic Odoo context args" vertex="1">
          <mxGeometry height="22" width="300" y="118" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_5" parent="llm_assistant" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Tool assignment per assistant" vertex="1">
          <mxGeometry height="22" width="300" y="140" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_req" parent="llm_assistant" style="text;strokeColor=none;fillColor=#fff3e0;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#e65100;" value="Requires: llm_tool" vertex="1">
          <mxGeometry height="28" width="300" y="162" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_invoice" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffe0b2;strokeColor=#e65100;strokeWidth=1;fontSize=14;" value="llm_assistant_account_invoice" vertex="1">
          <mxGeometry height="110" width="270" x="1650" y="145" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_invoice_1" parent="llm_assistant_invoice" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Invoice AI" vertex="1">
          <mxGeometry height="22" width="270" y="26" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_invoice_2" parent="llm_assistant_invoice" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="OCR extract" vertex="1">
          <mxGeometry height="22" width="270" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_invoice_3" parent="llm_assistant_invoice" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Auto validate" vertex="1">
          <mxGeometry height="22" width="270" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_assistant_invoice_req" parent="llm_assistant_invoice" style="text;strokeColor=none;fillColor=#fff3e0;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#e65100;" value="→ llm_assistant" vertex="1">
          <mxGeometry height="18" width="270" y="92" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_page" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffe0b2;strokeColor=#e65100;strokeWidth=1;fontSize=14;" value="llm_document_page" vertex="1">
          <mxGeometry height="100" width="305" x="1295" y="360" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_page_1" parent="llm_document_page" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Document.page + RAG" vertex="1">
          <mxGeometry height="22" width="305" y="26" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_page_2" parent="llm_document_page" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="AI review documents" vertex="1">
          <mxGeometry height="22" width="305" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_page_req" parent="llm_document_page" style="text;strokeColor=none;fillColor=#fff3e0;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#e65100;" value="→ llm_knowledge" vertex="1">
          <mxGeometry height="30" width="305" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_generator" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ffe0b2;strokeColor=#e65100;strokeWidth=1;fontSize=14;" value="llm_document_generator" vertex="1">
          <mxGeometry height="100" width="270" x="1650" y="361" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_generator_1" parent="llm_document_generator" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Template doc generation" vertex="1">
          <mxGeometry height="22" width="270" y="26" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_generator_2" parent="llm_document_generator" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="Multi-step + AI review" vertex="1">
          <mxGeometry height="22" width="270" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_document_generator_req" parent="llm_document_generator" style="text;strokeColor=none;fillColor=#fff3e0;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#e65100;" value="→ llm_generate" vertex="1">
          <mxGeometry height="30" width="270" y="70" as="geometry" />
        </mxCell>
        <mxCell id="arrow_assistant_gen" edge="1" parent="1" source="assistant_group" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c2185b;strokeWidth=5;endArrow=blockThin;endFill=1;fontSize=14;" target="gen_group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_label_assistant_gen" parent="1" style="text;html=1;strokeColor=none;fillColor=#fce4ec;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=2;fontColor=#c2185b;" value="content generation" vertex="1">
          <mxGeometry height="28" width="140" x="1565" y="600" as="geometry" />
        </mxCell>
        <mxCell id="gen_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="230" width="600" x="1315" y="700" as="geometry" />
        </mxCell>
        <mxCell id="gen_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#c2185b;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="GENERATION LAYER - Content Generation" vertex="1">
          <mxGeometry height="35" width="340" x="1445" y="715" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f48fb1;strokeColor=#c2185b;strokeWidth=2;fontSize=14;" value="llm_generate" vertex="1">
          <mxGeometry height="115" width="220" x="1365" y="785" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_desc" parent="llm_generate" style="text;strokeColor=none;fillColor=#f06292;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="Content Generation" vertex="1">
          <mxGeometry height="20" width="220" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_1" parent="llm_generate" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Structured generation" vertex="1">
          <mxGeometry height="20" width="220" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_2" parent="llm_generate" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• JSON schema output" vertex="1">
          <mxGeometry height="20" width="220" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_req" parent="llm_generate" style="text;strokeColor=none;fillColor=#fce4ec;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#c2185b;" value="Requires: llm_assistant" vertex="1">
          <mxGeometry height="25" width="220" y="90" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_job" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f48fb1;strokeColor=#c2185b;strokeWidth=2;fontSize=14;" value="llm_generate_job" vertex="1">
          <mxGeometry height="115" width="220" x="1655" y="785" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_job_desc" parent="llm_generate_job" style="text;strokeColor=none;fillColor=#f06292;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="Job Queue System" vertex="1">
          <mxGeometry height="20" width="220" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_job_1" parent="llm_generate_job" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Long-running queue" vertex="1">
          <mxGeometry height="20" width="220" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_job_2" parent="llm_generate_job" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Retry + exp. backoff" vertex="1">
          <mxGeometry height="20" width="220" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_generate_job_req" parent="llm_generate_job" style="text;strokeColor=none;fillColor=#fce4ec;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#c2185b;" value="Requires: llm_generate" vertex="1">
          <mxGeometry height="25" width="220" y="90" as="geometry" />
        </mxCell>
        <mxCell id="conn_gen_job" edge="1" parent="1" source="llm_generate" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c2185b;strokeWidth=3;endArrow=blockThin;endFill=1;fontSize=14;" target="llm_generate_job">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_rag_provider" edge="1" parent="1" source="rag_group" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7b1fa2;strokeWidth=5;endArrow=blockThin;endFill=1;fontSize=14;" target="provider_group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_label_rag_provider" parent="1" style="text;html=1;strokeColor=none;fillColor=#f3e5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=2;fontColor=#7b1fa2;" value="API calls" vertex="1">
          <mxGeometry height="28" width="100" x="530" y="920" as="geometry" />
        </mxCell>
        <mxCell id="provider_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="200" width="620" x="230" y="990" as="geometry" />
        </mxCell>
        <mxCell id="provider_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#7b1fa2;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="PROVIDER LAYER - LLM API Providers" vertex="1">
          <mxGeometry height="35" width="320" x="390" y="1005" as="geometry" />
        </mxCell>
        <mxCell id="llm_openai" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ce93d8;strokeColor=#7b1fa2;strokeWidth=2;fontSize=14;" value="llm_openai" vertex="1">
          <mxGeometry height="115" width="220" x="270" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="llm_openai_desc" parent="llm_openai" style="text;strokeColor=none;fillColor=#ba68c8;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="OpenAI GPT Models" vertex="1">
          <mxGeometry height="20" width="220" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_openai_1" parent="llm_openai" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Chat + streaming" vertex="1">
          <mxGeometry height="20" width="220" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_openai_2" parent="llm_openai" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Embedding generation" vertex="1">
          <mxGeometry height="20" width="220" y="68" as="geometry" />
        </mxCell>
        <mxCell id="llm_openai_req" parent="llm_openai" style="text;strokeColor=none;fillColor=#f3e5f5;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#7b1fa2;" value="→ llm" vertex="1">
          <mxGeometry height="27" width="220" y="88" as="geometry" />
        </mxCell>
        <mxCell id="llm_ollama" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#ce93d8;strokeColor=#7b1fa2;strokeWidth=2;fontSize=14;" value="llm_ollama" vertex="1">
          <mxGeometry height="115" width="220" x="600" y="1055" as="geometry" />
        </mxCell>
        <mxCell id="llm_ollama_desc" parent="llm_ollama" style="text;strokeColor=none;fillColor=#ba68c8;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="Local LLM (Ollama)" vertex="1">
          <mxGeometry height="20" width="220" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_ollama_1" parent="llm_ollama" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Offline/on-premise" vertex="1">
          <mxGeometry height="20" width="220" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_ollama_2" parent="llm_ollama" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Chat + embedding" vertex="1">
          <mxGeometry height="20" width="220" y="68" as="geometry" />
        </mxCell>
        <mxCell id="llm_ollama_req" parent="llm_ollama" style="text;strokeColor=none;fillColor=#f3e5f5;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#7b1fa2;" value="→ llm" vertex="1">
          <mxGeometry height="27" width="220" y="88" as="geometry" />
        </mxCell>
        <mxCell id="arrow_provider_integration" edge="1" parent="1" source="provider_group" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00838f;strokeWidth=5;endArrow=blockThin;endFill=1;fontSize=14;" target="integration_group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_label_provider_integration" parent="1" style="text;html=1;strokeColor=none;fillColor=#e0f7fa;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=2;fontColor=#00838f;" value="external protocols" vertex="1">
          <mxGeometry height="28" width="140" x="480" y="1250" as="geometry" />
        </mxCell>
        <mxCell id="integration_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e0f7fa;strokeColor=#00838f;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="220" width="1000" x="40" y="1315" as="geometry" />
        </mxCell>
        <mxCell id="integration_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#00838f;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="INTEGRATION LAYER - External Protocols" vertex="1">
          <mxGeometry height="35" width="340" x="60" y="1330" as="geometry" />
        </mxCell>
        <mxCell id="llm_a2a" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#4dd0e1;strokeColor=#00838f;strokeWidth=2;fontSize=14;" value="llm_a2a" vertex="1">
          <mxGeometry height="135" width="290" x="60" y="1385" as="geometry" />
        </mxCell>
        <mxCell id="llm_a2a_desc" parent="llm_a2a" style="text;strokeColor=none;fillColor=#26c6da;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="Google A2A Protocol" vertex="1">
          <mxGeometry height="20" width="290" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_a2a_1" parent="llm_a2a" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Agent discovery (Agent Cards)" vertex="1">
          <mxGeometry height="20" width="290" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_a2a_2" parent="llm_a2a" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Task delegation to external" vertex="1">
          <mxGeometry height="20" width="290" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_a2a_3" parent="llm_a2a" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Multi-agent orchestration" vertex="1">
          <mxGeometry height="20" width="290" y="90" as="geometry" />
        </mxCell>
        <mxCell id="llm_a2a_req" parent="llm_a2a" style="text;strokeColor=none;fillColor=#e0f7fa;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#00838f;" value="Requires: llm_tool" vertex="1">
          <mxGeometry height="25" width="290" y="110" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#4dd0e1;strokeColor=#00838f;strokeWidth=2;fontSize=14;" value="llm_mcp" vertex="1">
          <mxGeometry height="135" width="290" x="390" y="1385" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_desc" parent="llm_mcp" style="text;strokeColor=none;fillColor=#26c6da;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="MCP Client" vertex="1">
          <mxGeometry height="20" width="290" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_1" parent="llm_mcp" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Connect external MCP servers" vertex="1">
          <mxGeometry height="20" width="290" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_2" parent="llm_mcp" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Auto-discover tools" vertex="1">
          <mxGeometry height="20" width="290" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_3" parent="llm_mcp" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• JSON-RPC 2.0 protocol" vertex="1">
          <mxGeometry height="20" width="290" y="90" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_req" parent="llm_mcp" style="text;strokeColor=none;fillColor=#e0f7fa;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#00838f;" value="Requires: llm_tool" vertex="1">
          <mxGeometry height="25" width="290" y="110" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_server" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#4dd0e1;strokeColor=#00838f;strokeWidth=2;fontSize=14;" value="llm_mcp_server" vertex="1">
          <mxGeometry height="135" width="300" x="720" y="1385" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_server_desc" parent="llm_mcp_server" style="text;strokeColor=none;fillColor=#26c6da;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="MCP Server (Expose Odoo)" vertex="1">
          <mxGeometry height="20" width="300" y="30" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_server_1" parent="llm_mcp_server" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Expose tools to Claude Desktop" vertex="1">
          <mxGeometry height="20" width="300" y="50" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_server_2" parent="llm_mcp_server" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• MCP 2025-06-18 compliant" vertex="1">
          <mxGeometry height="20" width="300" y="70" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_server_3" parent="llm_mcp_server" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Bearer token auth" vertex="1">
          <mxGeometry height="20" width="300" y="90" as="geometry" />
        </mxCell>
        <mxCell id="llm_mcp_server_req" parent="llm_mcp_server" style="text;strokeColor=none;fillColor=#e0f7fa;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#00838f;" value="Requires: llm_tool" vertex="1">
          <mxGeometry height="25" width="300" y="110" as="geometry" />
        </mxCell>
        <mxCell id="utility_group" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fafafa;strokeColor=#616161;strokeWidth=4;dashed=0;opacity=50;fontSize=14;" value="" vertex="1">
          <mxGeometry height="470" width="500" x="1150" y="1060" as="geometry" />
        </mxCell>
        <mxCell id="utility_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#616161;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="UTILITY LAYER - Supporting Services" vertex="1">
          <mxGeometry height="35" width="300" x="1250" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="llm_analytics" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e0e0e0;strokeColor=#616161;strokeWidth=2;fontSize=14;" value="&lt;b&gt;llm_analytics&lt;/b&gt;" vertex="1">
          <mxGeometry height="130" width="220" x="1180" y="1140" as="geometry" />
        </mxCell>
        <mxCell id="llm_analytics_desc" parent="llm_analytics" style="text;strokeColor=none;fillColor=#bdbdbd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Usage Analytics" vertex="1">
          <mxGeometry height="20" width="220" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_analytics_1" parent="llm_analytics" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Token usage tracking" vertex="1">
          <mxGeometry height="20" width="220" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_analytics_2" parent="llm_analytics" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Cost calculation" vertex="1">
          <mxGeometry height="20" width="220" y="68" as="geometry" />
        </mxCell>
        <mxCell id="llm_analytics_3" parent="llm_analytics" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Dashboard &amp; KPIs" vertex="1">
          <mxGeometry height="20" width="220" y="88" as="geometry" />
        </mxCell>
        <mxCell id="llm_analytics_req" parent="llm_analytics" style="text;strokeColor=none;fillColor=#fafafa;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#616161;" value="→ llm" vertex="1">
          <mxGeometry height="22" width="220" y="108" as="geometry" />
        </mxCell>
        <mxCell id="llm_security" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e0e0e0;strokeColor=#616161;strokeWidth=2;fontSize=14;" value="&lt;b&gt;llm_security&lt;/b&gt;" vertex="1">
          <mxGeometry height="130" width="220" x="1420" y="1230" as="geometry" />
        </mxCell>
        <mxCell id="llm_security_desc" parent="llm_security" style="text;strokeColor=none;fillColor=#bdbdbd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Security &amp; Access Control" vertex="1">
          <mxGeometry height="20" width="220" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_security_1" parent="llm_security" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• API key encryption" vertex="1">
          <mxGeometry height="20" width="220" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_security_2" parent="llm_security" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Retry + backoff" vertex="1">
          <mxGeometry height="20" width="220" y="68" as="geometry" />
        </mxCell>
        <mxCell id="llm_security_3" parent="llm_security" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• RAG access control" vertex="1">
          <mxGeometry height="20" width="220" y="88" as="geometry" />
        </mxCell>
        <mxCell id="llm_security_req" parent="llm_security" style="text;strokeColor=none;fillColor=#fafafa;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#616161;" value="→ llm, llm_knowledge" vertex="1">
          <mxGeometry height="22" width="220" y="108" as="geometry" />
        </mxCell>
        <mxCell id="llm_training" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=28;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e0e0e0;strokeColor=#616161;strokeWidth=2;fontSize=14;" value="&lt;b&gt;llm_training&lt;/b&gt;" vertex="1">
          <mxGeometry height="130" width="220" x="1180" y="1360" as="geometry" />
        </mxCell>
        <mxCell id="llm_training_desc" parent="llm_training" style="text;strokeColor=none;fillColor=#bdbdbd;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=1;" value="Fine-tuning Datasets" vertex="1">
          <mxGeometry height="20" width="220" y="28" as="geometry" />
        </mxCell>
        <mxCell id="llm_training_1" parent="llm_training" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Dataset management" vertex="1">
          <mxGeometry height="20" width="220" y="48" as="geometry" />
        </mxCell>
        <mxCell id="llm_training_2" parent="llm_training" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• JSONL validation" vertex="1">
          <mxGeometry height="20" width="220" y="68" as="geometry" />
        </mxCell>
        <mxCell id="llm_training_3" parent="llm_training" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=10;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" value="• Training job tracking" vertex="1">
          <mxGeometry height="20" width="220" y="88" as="geometry" />
        </mxCell>
        <mxCell id="llm_training_req" parent="llm_training" style="text;strokeColor=none;fillColor=#fafafa;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;fontStyle=2;fontColor=#616161;" value="→ llm" vertex="1">
          <mxGeometry height="22" width="220" y="108" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
